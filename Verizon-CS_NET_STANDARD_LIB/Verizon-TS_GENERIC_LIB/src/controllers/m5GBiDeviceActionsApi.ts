/**
 * VerizonLib
 *
 * This file was automatically generated by APIMATIC v3.0 ( https://www.apimatic.io ).
 */

import { ApiResponse, RequestOptions } from '../core';
import {
  M5GBiactivateRequest,
  m5GBiactivateRequestSchema,
} from '../models/m5GBiactivateRequest';
import {
  M5GBichangeRequest,
  m5GBichangeRequestSchema,
} from '../models/m5GBichangeRequest';
import {
  M5GBideviceDetailsresponse,
  m5GBideviceDetailsresponseSchema,
} from '../models/m5GBideviceDetailsresponse';
import { M5GBideviceId, m5GBideviceIdSchema } from '../models/m5GBideviceId';
import {
  M5GBiRequestResponse,
  m5GBiRequestResponseSchema,
} from '../models/m5GBiRequestResponse';
import { BaseApi } from './baseApi';
import { M5GBiRestErrorResponseError } from '../errors/m5GBiRestErrorResponseError';

export class M5GBiDeviceActionsApi extends BaseApi {
  /**
   * Uses the decive's Integrated Circuit Card Identification Number (ICCID) to retrive and display the
   * device's properties.
   *
   * @param body         Device Profile Query
   * @return Response from the API call
   */
  async businessInternetlistDeviceInformation(
    body: M5GBideviceId,
    requestOptions?: RequestOptions
  ): Promise<ApiResponse<M5GBideviceDetailsresponse>> {
    const req = this.createRequest('POST', '/actions/list');
    req.baseUrl('Thingspace');
    const mapped = req.prepareArgs({ body: [body, m5GBideviceIdSchema] });
    req.header('Content-Type', 'application/json');
    req.json(mapped.body);
    req.defaultToError(M5GBiRestErrorResponseError, 'Error response');
    req.authenticate([{ thingspaceOauth: true }, { vzM2MToken: true }]);
    return req.callAsJson(m5GBideviceDetailsresponseSchema, requestOptions);
  }

  /**
   * Uses the device's ICCID and IMEI to activate service.
   *
   * @param body         Activate 5G BI service. Defining
   *                                                    <code>publicIpRestriction</code> as "Unrestricted" or
   *                                                    "Restricted" is required for activating as Public Static. Leave
   *                                                    <code>publicIpRestriction</code> undefined to activate as
   *                                                    Public Dynamic. Removing <code>publicIpRestriction</code> from
   *                                                    the request will activate as Mobile Private Network (MPN).
   * @return Response from the API call
   */
  async businessInternetactivateUsingPost(
    body: M5GBiactivateRequest,
    requestOptions?: RequestOptions
  ): Promise<ApiResponse<M5GBiRequestResponse>> {
    const req = this.createRequest('POST', '/actions/activate');
    req.baseUrl('Thingspace');
    const mapped = req.prepareArgs({
      body: [body, m5GBiactivateRequestSchema],
    });
    req.header('Content-Type', 'application/json');
    req.json(mapped.body);
    req.defaultToError(M5GBiRestErrorResponseError, 'Error response');
    req.authenticate([{ thingspaceOauth: true }, { vzM2MToken: true }]);
    return req.callAsJson(m5GBiRequestResponseSchema, requestOptions);
  }

  /**
   * Change a device's service plan to use 5G BI.
   *
   * @param body         This endpoint is for use when changing a device's service plan
   *                                                  to a 5G BI service plan. The service plan can change for an
   *                                                  active device up to four times per month but will require address
   *                                                  validation for each change. The service plan cannot be changed
   *                                                  for a device while its service is suspended.
   * @return Response from the API call
   */
  async businessInternetServiceplanchange(
    body: M5GBichangeRequest,
    requestOptions?: RequestOptions
  ): Promise<ApiResponse<M5GBiRequestResponse>> {
    const req = this.createRequest('PUT', '/actions/plan');
    req.baseUrl('Thingspace');
    const mapped = req.prepareArgs({ body: [body, m5GBichangeRequestSchema] });
    req.header('Content-Type', 'application/json');
    req.json(mapped.body);
    req.defaultToError(M5GBiRestErrorResponseError, 'Error response');
    req.authenticate([{ thingspaceOauth: true }, { vzM2MToken: true }]);
    return req.callAsJson(m5GBiRequestResponseSchema, requestOptions);
  }
}
