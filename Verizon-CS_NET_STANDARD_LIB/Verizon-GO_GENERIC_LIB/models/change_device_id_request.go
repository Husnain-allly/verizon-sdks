/*
Package verizon

This file was automatically generated by APIMATIC v3.0 ( https://www.apimatic.io ).
*/
package models

import (
    "encoding/json"
    "errors"
    "fmt"
    "strings"
)

// ChangeDeviceIdRequest represents a ChangeDeviceIdRequest struct.
// Changes the identifier of a 3G or 4G device to match hardware changes made for a line of service. Use this request to transfer the line of service and the MDN to new hardware, or to change the MDN.
type ChangeDeviceIdRequest struct {
    // Set to true to assign a non-Geo MDN and MSISDN, or false to assign an MDN and MSISDN from a specific NPA-NXX.
    AssignNonGeoMdn      *bool                  `json:"assignNonGeoMdn,omitempty"`
    // The type of change that you want to make for a 4G device.
    Change4GOption       *string                `json:"change4gOption,omitempty"`
    // The device that you want to change, specified by a device identifier.
    DeviceIds            []DeviceId             `json:"deviceIds"`
    // The new identifier for the device. Required for all change4GOptions except ChangeMSISDN.
    DeviceIdsTo          []DeviceId             `json:"deviceIdsTo,omitempty"`
    // The NPA NXX (area code and prefix) from which the MDN and MSISDN will be derived when assignNonGeoMDN is false. Specify the 6-digit NPA NXX of the location where the line of service will primarily be used. This API checks to see if a number starting with the NPA NXX is available. If not, this API uses the zipCode parameter, if specified, to assign a number in the area of the line of service. This parameter is required when you change an MDN/MSISDN for a B2B carrier, such as Verizon Wireless.
    NpaNxx               *string                `json:"npaNxx,omitempty"`
    // The code for a different service plan, if you want to change the service plan while changing the device identifier. Set this parameter to one of the Code values returned by GET /plans.
    ServicePlan          *string                `json:"servicePlan,omitempty"`
    // The ZIP code from which the MDN and MSISDN will be derived when assignNonGeoMDN is true. Specify the zip code of the location where the line of service will primarily be used.
    ZipCode              *string                `json:"zipCode,omitempty"`
    SmsrOid              *string                `json:"smsrOid,omitempty"`
    AdditionalProperties map[string]interface{} `json:"_"`
}

// String implements the fmt.Stringer interface for ChangeDeviceIdRequest,
// providing a human-readable string representation useful for logging, debugging or displaying information.
func (c ChangeDeviceIdRequest) String() string {
    return fmt.Sprintf(
    	"ChangeDeviceIdRequest[AssignNonGeoMdn=%v, Change4GOption=%v, DeviceIds=%v, DeviceIdsTo=%v, NpaNxx=%v, ServicePlan=%v, ZipCode=%v, SmsrOid=%v, AdditionalProperties=%v]",
    	c.AssignNonGeoMdn, c.Change4GOption, c.DeviceIds, c.DeviceIdsTo, c.NpaNxx, c.ServicePlan, c.ZipCode, c.SmsrOid, c.AdditionalProperties)
}

// MarshalJSON implements the json.Marshaler interface for ChangeDeviceIdRequest.
// It customizes the JSON marshaling process for ChangeDeviceIdRequest objects.
func (c ChangeDeviceIdRequest) MarshalJSON() (
    []byte,
    error) {
    if err := DetectConflictingProperties(c.AdditionalProperties,
        "assignNonGeoMdn", "change4gOption", "deviceIds", "deviceIdsTo", "npaNxx", "servicePlan", "zipCode", "smsrOid"); err != nil {
        return []byte{}, err
    }
    return json.Marshal(c.toMap())
}

// toMap converts the ChangeDeviceIdRequest object to a map representation for JSON marshaling.
func (c ChangeDeviceIdRequest) toMap() map[string]any {
    structMap := make(map[string]any)
    MergeAdditionalProperties(structMap, c.AdditionalProperties)
    if c.AssignNonGeoMdn != nil {
        structMap["assignNonGeoMdn"] = c.AssignNonGeoMdn
    }
    if c.Change4GOption != nil {
        structMap["change4gOption"] = c.Change4GOption
    }
    structMap["deviceIds"] = c.DeviceIds
    if c.DeviceIdsTo != nil {
        structMap["deviceIdsTo"] = c.DeviceIdsTo
    }
    if c.NpaNxx != nil {
        structMap["npaNxx"] = c.NpaNxx
    }
    if c.ServicePlan != nil {
        structMap["servicePlan"] = c.ServicePlan
    }
    if c.ZipCode != nil {
        structMap["zipCode"] = c.ZipCode
    }
    if c.SmsrOid != nil {
        structMap["smsrOid"] = c.SmsrOid
    }
    return structMap
}

// UnmarshalJSON implements the json.Unmarshaler interface for ChangeDeviceIdRequest.
// It customizes the JSON unmarshaling process for ChangeDeviceIdRequest objects.
func (c *ChangeDeviceIdRequest) UnmarshalJSON(input []byte) error {
    var temp tempChangeDeviceIdRequest
    err := json.Unmarshal(input, &temp)
    if err != nil {
    	return err
    }
    err = temp.validate()
    if err != nil {
    	return err
    }
    additionalProperties, err := ExtractAdditionalProperties[interface{}](input, "assignNonGeoMdn", "change4gOption", "deviceIds", "deviceIdsTo", "npaNxx", "servicePlan", "zipCode", "smsrOid")
    if err != nil {
    	return err
    }
    c.AdditionalProperties = additionalProperties
    
    c.AssignNonGeoMdn = temp.AssignNonGeoMdn
    c.Change4GOption = temp.Change4GOption
    c.DeviceIds = *temp.DeviceIds
    c.DeviceIdsTo = temp.DeviceIdsTo
    c.NpaNxx = temp.NpaNxx
    c.ServicePlan = temp.ServicePlan
    c.ZipCode = temp.ZipCode
    c.SmsrOid = temp.SmsrOid
    return nil
}

// tempChangeDeviceIdRequest is a temporary struct used for validating the fields of ChangeDeviceIdRequest.
type tempChangeDeviceIdRequest  struct {
    AssignNonGeoMdn *bool       `json:"assignNonGeoMdn,omitempty"`
    Change4GOption  *string     `json:"change4gOption,omitempty"`
    DeviceIds       *[]DeviceId `json:"deviceIds"`
    DeviceIdsTo     []DeviceId  `json:"deviceIdsTo,omitempty"`
    NpaNxx          *string     `json:"npaNxx,omitempty"`
    ServicePlan     *string     `json:"servicePlan,omitempty"`
    ZipCode         *string     `json:"zipCode,omitempty"`
    SmsrOid         *string     `json:"smsrOid,omitempty"`
}

func (c *tempChangeDeviceIdRequest) validate() error {
    var errs []string
    if c.DeviceIds == nil {
        errs = append(errs, "required field `deviceIds` is missing for type `ChangeDeviceIdRequest`")
    }
    if len(errs) == 0 {
        return nil
    }
    return errors.New(strings.Join (errs, "\n"))
}
